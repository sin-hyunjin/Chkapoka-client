<template>
  <svg
    width="166"
    height="205"
    viewBox="0 0 166 205"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    :style="innerStyle"
  >
    <!-- ground -->
    <rect
      y="178.616"
      width="166"
      height="119.077"
      :fill="computedColor?.groundColor"
    />
    <!-- tree -->
    <template v-if="treeType === 'TREE_TYPE_01'">
      <path
        d="M68.213 178.616H100.433C93.7524 172.529 93.9064 163.076 93.8629 153.648C94.2669 142.99 98.1654 130.779 99.9081 118.236L95.7814 117.895C95.0187 124.025 93.1039 129.796 90.7851 134.678C87.2833 126.927 84.6837 122.701 84.4156 113.746H81.5026C80.1457 120.959 80.999 128.522 84.4156 136.486C79.1059 129.715 73.5118 124.752 67.5825 121.921L64.5771 124.688C71.847 129.493 78.7943 138.968 78.1621 149.837C78.1603 162.86 76.2835 171.077 68.213 178.616Z"
        fill="#5F2D20"
      />

      <path
        d="M152.72 70.4436C152.72 64.9403 148.926 60.3239 143.781 58.974C143.786 58.8363 143.802 58.7005 143.802 58.5628C143.802 52.0011 138.414 46.6802 131.766 46.6802C130.67 46.6802 129.613 46.8376 128.604 47.1093C128.151 40.9553 122.962 36.0957 116.613 36.0957C114.912 36.0957 113.297 36.4479 111.83 37.0755C111.071 31.2344 106.027 26.7145 99.9039 26.7145C97.0515 26.7145 94.4345 27.6996 92.3717 29.3356C90.4122 24.973 86.0185 21.9121 80.8715 21.9121C75.6864 21.9121 71.233 25.0034 69.2952 29.4196C68.9529 29.3928 68.6088 29.3749 68.261 29.3749C64.1191 29.3749 60.4445 31.3452 58.1462 34.3883C56.0219 32.7791 53.365 31.8208 50.48 31.8208C43.5147 31.8208 37.8696 37.3955 37.8696 44.2701C30.9042 44.2701 25.2591 49.8449 25.2591 56.7194C25.2591 58.2374 25.5344 59.691 26.0397 61.0355C19.3062 61.8865 14.1012 67.5614 14.1012 74.4396C14.1012 78.5232 15.9376 82.1813 18.8371 84.6594C17.3104 86.8388 16.4157 89.4832 16.4157 92.3331C16.4157 93.8707 16.6801 95.3476 17.1601 96.7261C15.023 99.1112 13.7227 102.244 13.7227 105.678C13.7227 113.145 19.8531 119.197 27.4161 119.197C30.4804 119.197 33.3093 118.203 35.5913 116.524C37.0872 122.388 42.4642 126.729 48.8682 126.729C52.4305 126.729 55.6741 125.385 58.11 123.184C60.3394 126.699 64.2948 129.037 68.8044 129.037C75.7697 129.037 81.4148 123.463 81.4148 116.588C81.4148 116.479 81.4094 116.372 81.4057 116.263C83.177 117.167 85.1854 117.681 87.3171 117.681C90.1767 117.681 92.8191 116.76 94.9579 115.204C96.7599 121.251 102.421 125.665 109.13 125.665C113.184 125.665 116.855 124.053 119.527 121.441C121.365 122.25 123.399 122.705 125.541 122.705C133.702 122.705 140.316 116.175 140.316 108.119C140.316 105.87 139.8 103.74 138.88 101.84C144.817 99.9479 149.111 94.45 149.111 87.9599C149.111 85.2422 148.344 82.7069 147.031 80.5275C150.44 78.4302 152.72 74.7042 152.72 70.4436Z"
        fill="#FF9F9F"
      />
    </template>
    <template v-if="treeType === 'TREE_TYPE_02'">
      <path
        d="M68.213 178.616H100.433C93.7524 172.529 93.9064 163.076 93.8629 153.648C94.2669 142.99 98.1654 130.779 99.9081 118.236L95.7814 117.895C95.0187 124.025 93.1039 129.796 90.7851 134.678C87.2833 126.927 84.6837 122.701 84.4156 113.746H81.5026C80.1457 120.959 80.999 128.522 84.4156 136.486C79.1059 129.715 73.5118 124.752 67.5825 121.921L64.5771 124.688C71.847 129.493 78.7943 138.968 78.1621 149.837C78.1603 162.86 76.2835 171.077 68.213 178.616Z"
        fill="#906256"
      />
      <path
        d="M152.72 70.4436C152.72 64.9403 148.926 60.3239 143.781 58.974C143.786 58.8363 143.802 58.7005 143.802 58.5628C143.802 52.0011 138.414 46.6802 131.766 46.6802C130.67 46.6802 129.613 46.8376 128.604 47.1093C128.151 40.9553 122.962 36.0957 116.613 36.0957C114.912 36.0957 113.297 36.4479 111.83 37.0755C111.071 31.2344 106.027 26.7145 99.9039 26.7145C97.0515 26.7145 94.4345 27.6996 92.3717 29.3356C90.4122 24.973 86.0185 21.9121 80.8715 21.9121C75.6864 21.9121 71.233 25.0034 69.2952 29.4196C68.9529 29.3928 68.6088 29.3749 68.261 29.3749C64.1191 29.3749 60.4445 31.3452 58.1462 34.3883C56.0219 32.7791 53.365 31.8208 50.48 31.8208C43.5147 31.8208 37.8696 37.3955 37.8696 44.2701C30.9042 44.2701 25.2591 49.8449 25.2591 56.7194C25.2591 58.2374 25.5344 59.691 26.0397 61.0355C19.3062 61.8865 14.1012 67.5614 14.1012 74.4396C14.1012 78.5232 15.9376 82.1813 18.8371 84.6594C17.3104 86.8388 16.4157 89.4832 16.4157 92.3331C16.4157 93.8707 16.6801 95.3476 17.1601 96.7261C15.023 99.1112 13.7227 102.244 13.7227 105.678C13.7227 113.145 19.8531 119.197 27.4161 119.197C30.4804 119.197 33.3093 118.203 35.5913 116.524C37.0872 122.388 42.4642 126.729 48.8682 126.729C52.4305 126.729 55.6741 125.385 58.11 123.184C60.3394 126.699 64.2948 129.037 68.8044 129.037C75.7697 129.037 81.4148 123.463 81.4148 116.588C81.4148 116.479 81.4094 116.372 81.4057 116.263C83.177 117.167 85.1854 117.681 87.3171 117.681C90.1767 117.681 92.8191 116.76 94.9579 115.204C96.7599 121.251 102.421 125.665 109.13 125.665C113.184 125.665 116.855 124.053 119.527 121.441C121.365 122.25 123.399 122.705 125.541 122.705C133.702 122.705 140.316 116.175 140.316 108.119C140.316 105.87 139.8 103.74 138.88 101.84C144.817 99.9479 149.111 94.45 149.111 87.9599C149.111 85.2422 148.344 82.7069 147.031 80.5275C150.44 78.4302 152.72 74.7042 152.72 70.4436Z"
        fill="#FFCD4D"
      />
    </template>
    <template v-if="treeType === 'TREE_TYPE_03'">
      <path
        d="M90.5283 178.7H71.6041C71.2989 174.33 71.1157 164.918 72.825 162.229C74.9616 158.867 74.9616 145.757 67.6361 138.026C64.5204 134.738 58.4231 127.558 52.0214 118.865C49.9328 116.848 31.9783 108.781 23.9883 106.428C29.3603 106.159 41.7239 110.125 47.2342 112.142C40.1904 101.891 33.5853 90.5186 31.0086 81.2171C26.6133 65.3509 29.5842 74.6061 31.619 81.2171C34.9841 87.4462 41.473 97.5594 46.2992 104.411C45.5773 93.0942 45.1101 68.7793 49.0171 62.0563C48.031 73.2612 48.0639 99.6376 56.0843 115.504C59.1577 118.325 63.1244 121.996 67.3601 126.597V89.6204C67.7636 102.075 69.5786 126.989 73.6885 134.014C74.0307 134.449 74.3726 134.89 74.714 135.337C76.771 138.028 78.8088 140.939 80.7609 144.077L98.159 105.42C93.4788 99.8173 83.6301 87.6712 81.6766 83.9063C79.2348 79.2002 74.6563 58.3587 75.8772 53.6526C76.854 49.8878 77.1999 50.1794 78.0138 50.2914C78.726 58.6952 81.4935 76.9817 86.8655 82.8979C90.5197 86.9223 95.2587 91.0462 98.8196 94.9988L133.26 53.6526L103.277 101.386C103.715 102.422 103.958 103.432 103.958 104.411C100.166 114.156 94.6603 130.842 91.5537 146.766C94.9763 145.085 102.921 136.748 107.316 116.848L103.043 110.798L108.842 104.411L109.758 108.109C116.371 102.842 131.795 92.3096 140.586 92.3096C134.583 94.7749 121.051 101.924 114.947 110.798L113.726 115.504C112.096 123.239 106.142 141.051 103.958 145.085C101.775 149.119 94.7896 158.221 89.5907 159.875C88.8928 167.151 89.0452 173.726 90.5283 178.7Z"
        fill="#826F41"
      />
      <path
        d="M57.0737 38.1351L52.1901 29.3953C56.0563 29.8434 64.2161 31.076 65.9254 32.4206C68.5707 28.9471 76.059 24.0841 84.8496 32.4206C87.6984 31.8603 94.0675 31.4794 96.7535 34.4375C96.55 31.8603 96.8756 25.7649 99.8058 22C101.739 25.4735 105.666 32.4206 105.91 32.4206C106.216 32.4206 115.983 27.7145 119.646 39.8158C122.088 37.3507 127.948 33.5635 131.855 38.1351C129.108 38.6953 124.163 40.9587 126.361 45.5303C128.803 45.0821 134.358 45.5976 137.044 51.2449C139.73 56.8921 138.163 60.9931 137.044 62.3377L143.148 59.9847C142.334 60.8811 140.768 63.1445 141.012 65.0269C141.317 67.38 143.148 72.086 141.012 75.4475C142.843 75.7836 146.567 77.7333 146.811 82.8428C147.055 87.9522 144.471 89.6778 143.148 89.9019C146.099 90.126 151.939 92.5238 151.695 100.322C150.983 99.2019 149.192 97.0282 147.727 97.2971C146.442 97.533 145.457 97.6034 144.984 97.392C146.177 99.1807 147.609 102.826 145.59 106.037H152C151.39 108.838 149.253 114.642 145.59 115.449C146.506 117.242 149.07 120.29 152 118.138C150.677 119.819 147.544 122.979 145.59 122.172C147.116 125.085 149.253 130.979 145.59 131.248C145.387 129.007 144.186 125.197 141.012 127.887C138.977 130.352 133.747 135.147 129.108 134.61C130.329 135.73 132.282 138.643 130.329 141.332C129.718 139.652 127.826 136.492 125.14 137.299C123.41 138.979 120.989 142.677 125.14 144.022C122.901 144.246 118.669 143.686 119.646 139.652L114.152 146.039L112.015 139.652C110.794 142.677 106.765 147.988 100.416 145.03C97.1605 144.806 91.2594 145.702 93.7012 151.081C92.0733 150.184 89.3059 147.518 91.2594 144.022L82.4077 151.081C81.1868 148.055 79.7828 141.265 83.9339 138.307C79.152 139.091 69.7713 141.534 70.5038 145.03C69.5881 144.022 68.7335 141.265 72.6404 138.307C71.1143 138.867 67.6346 139.45 65.9254 137.299C64.501 139.54 61.9574 144.425 63.1783 146.039C60.6347 143.349 56.4633 137.299 60.126 134.61C56.6667 135.282 48.4663 135.551 43.3384 131.248L39.9809 137.299C39.4722 136.178 37.9053 133.668 35.7077 132.593C33.51 131.517 32.9606 128.111 32.9606 126.542C30.5188 126.654 26.1235 128.021 28.0769 132.593C25.8386 130.464 22.5218 125.601 27.1613 123.18C24.7194 124.077 18.9811 124.323 15.5626 118.138C16.7835 119.259 19.8358 121.164 22.2776 119.819C18.1061 117.578 11.3504 109.936 17.6992 97.2971C15.5626 94.4959 11.7167 88.2883 13.426 85.8681C15.3591 85.644 19.5305 86.137 20.7515 89.9019C22.2776 94.6079 19.2253 79.4813 15.5626 81.162C11.8998 82.8428 17.0887 75.7836 18.9201 76.7921C18.2079 68.8366 20.0189 52.5894 32.9606 51.2449L31.4345 45.5303C34.2833 45.4183 39.9809 45.9337 39.9809 48.8918C39.9809 48.9148 39.9809 48.937 39.9809 48.9584C40.0321 46.6151 40.4599 36.8388 43.3384 35.7821C45.475 32.9808 51.2133 29.5297 57.0737 38.1351Z"
        fill="#2C9B65"
      />
    </template>

    <template v-if="treeType === 'TREE_TYPE_04'">
      <rect
        x="74.2261"
        y="106.377"
        width="16.5476"
        height="72.323"
        fill="url(#paint0_linear_1488_3729)"
      />
      <path
        d="M79.341 76.0045C80.9424 73.9428 84.0576 73.9428 85.659 76.0045L137.676 142.973C139.717 145.601 137.844 149.426 134.517 149.426H30.4831C27.1557 149.426 25.283 145.601 27.3241 142.973L79.341 76.0045Z"
        fill="#184617"
      />
      <path
        d="M79.4947 56.4166C81.0878 54.6031 83.9119 54.6031 85.505 56.4166L131.123 108.347C133.394 110.932 131.559 114.987 128.118 114.987H36.8814C33.441 114.987 31.6057 110.932 33.8762 108.347L79.4947 56.4166Z"
        fill="#20551F"
      />
      <path
        d="M79.2131 26.7395C80.804 24.4455 84.196 24.4455 85.7869 26.7395L121.137 77.7116C122.977 80.3643 121.078 83.9911 117.85 83.9911H47.1499C43.9218 83.9911 42.0234 80.3643 43.863 77.7116L79.2131 26.7395Z"
        fill="#2D702C"
      />
      <defs>
        <linearGradient
          id="paint0_linear_1488_3729"
          x1="82.4999"
          y1="178.7"
          x2="82.4999"
          y2="139.095"
          gradientUnits="userSpaceOnUse"
        >
          <stop stop-color="#624E40" />
          <stop offset="1" stop-color="#403832" />
        </linearGradient>
      </defs>
    </template>
  </svg>
</template>

<script lang="ts">
import { defineComponent } from "vue";

export default defineComponent({
  name: "IconTreePreview",
});
</script>

<script lang="ts" setup>
import { computed } from "vue";

import {
  BgType,
  getBgColor,
  TreeType,
} from "@/composables/use-tree-create-controller";
const props = defineProps<{
  treeType?: TreeType;
  bgType?: BgType;
}>();

const computedColor = computed(() => {
  if (props.bgType) {
    const { ground } = getBgColor(props.bgType);
    return {
      groundColor: ground,
    };
  }
});

// background color
const innerStyle = computed(() => {
  if (props.bgType) {
    const { background } = getBgColor(props.bgType);
    return {
      "--background-color": background,
    };
  }
});
</script>

<style lang="scss" scoped>
svg {
  background: var(--background-color);
}
</style>
